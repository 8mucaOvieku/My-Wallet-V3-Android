apply plugin: 'kotlinx-serialization'
apply from: rootProject.file('gradle/local/common-feature-android.gradle')

android {
    buildFeatures {
        viewBinding true
        compose true
    }
    composeOptions {
        kotlinCompilerExtensionVersion compose_version
        kotlinCompilerVersion Versions.composeKotlinCompile
    }

    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }
        debug {}
    }
}

dependencies {
    implementation project(':coincore')
    implementation project(':core')
    implementation project(':commonarch')
    implementation project(':metadata')
    implementation project(':componentlib')
    implementation project(':common:interface')
    implementation project(':common-mp:utils')
    implementation project(':logging:domain')
    implementation project(':analytics:domain')

    implementation Libraries.koin
    implementation Libraries.androidXAnnotations
    implementation Libraries.gson
    implementation Libraries.timber
    implementation Libraries.okHttp
    implementation Libraries.kotlinJson
    implementation Libraries.rxJava
    implementation Libraries.composeRx
    implementation Libraries.rxKotlin
    implementation Libraries.composeMaterial
    implementation Libraries.composePreview
    implementation Libraries.composeActivity
    implementation Libraries.rxAndroid
    implementation Libraries.design
    implementation Libraries.composeCoil
    implementation Libraries.walletConnect
    implementation Libraries.okHttp
    implementation Libraries.constraintLayout
    implementation Libraries.appCompat
    implementation Libraries.glide

    // Compose
    implementation Libraries.composeUi

    // Unit Test dependencies
    testImplementation Libraries.junit
    testImplementation Libraries.mockito
    testImplementation Libraries.koinTest
    testImplementation Libraries.hamcrestJunit
    testImplementation Libraries.kotlinJunit
    testImplementation Libraries.kluent
    testImplementation(Libraries.mockitoKotlin) {
        ['kotlin-stdlib', 'kotlin-reflect'].each { exclude module: it }
    }
    testImplementation project(':testutils')
    testImplementation project(':testutils-android')
}
